/**
 * ARCHIVED: Browse Page Category Grid
 *
 * This was the category grid shown on /browse when no category was selected.
 * Archived on 2026-01-28 when homepage was redesigned to include category grid.
 *
 * To restore: Copy this JSX back into Browse.jsx in the {!showingDishes ? (...) : (...)} section
 */

/* Category Grid - Plates on a dining table */
<div
  className="px-6 pt-5 pb-6 relative"
  style={{
    background: 'linear-gradient(180deg, #1A3A42 0%, #122830 50%, #0D1B22 100%)',
    minHeight: 'calc(100vh - 80px)',
  }}
>
  {/* Table edge - top bevel/rim catching light */}
  <div
    className="absolute top-0 left-0 right-0 h-[2px]"
    style={{
      background: 'linear-gradient(90deg, transparent 0%, rgba(217, 167, 101, 0.08) 20%, rgba(217, 167, 101, 0.12) 50%, rgba(217, 167, 101, 0.08) 80%, transparent 100%)',
    }}
  />

  {/* Section title - anchors the grid */}
  <div className="flex justify-center pt-4 pb-10">
    <span
      className="text-[11px] font-semibold tracking-[0.2em] uppercase"
      style={{ color: 'rgba(255, 255, 255, 0.45)' }}
    >
      Categories
    </span>
  </div>

  {/* Category grid - 12 items, 4 rows of 3, shelf-like rhythm */}
  <div className="grid grid-cols-3 gap-x-4 gap-y-7 justify-items-center">
    {CATEGORIES.map((category) => (
      <CategoryImageCard
        key={category.id}
        category={category}
        isActive={selectedCategory === category.id}
        onClick={() => handleCategoryChange(category.id)}
        size={72}
      />
    ))}
  </div>

  {/* Search bar - escape hatch, visually separate from categories */}
  <div className="mt-auto pt-10">
    <div className="relative">
      <div
        className="flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200"
        style={{
          background: 'var(--color-bg)',
          border: `2px solid ${searchFocused ? 'var(--color-accent-gold)' : 'var(--color-divider)'}`,
          boxShadow: searchFocused ? '0 0 20px rgba(217, 167, 101, 0.15)' : 'none',
        }}
      >
        <svg
          className="w-5 h-5 flex-shrink-0"
          style={{ color: 'var(--color-text-tertiary)' }}
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          strokeWidth={2}
        >
          <path strokeLinecap="round" strokeLinejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <input
          ref={searchInputRef}
          id="browse-search"
          name="browse-search"
          type="text"
          autoComplete="off"
          placeholder="Find the best ___ near you"
          value={searchQuery}
          onChange={(e) => {
            setSearchQuery(e.target.value)
            if (e.target.value.length >= 2) {
              setAutocompleteOpen(true)
            } else {
              setAutocompleteOpen(false)
            }
            setAutocompleteIndex(-1)
          }}
          onFocus={() => {
            setSearchFocused(true)
            if (searchQuery.length >= 2 && autocompleteSuggestions.length > 0) {
              setAutocompleteOpen(true)
            }
          }}
          onBlur={() => setSearchFocused(false)}
          onKeyDown={handleSearchKeyDown}
          className="flex-1 bg-transparent outline-none border-none text-sm"
          style={{ color: 'var(--color-text-primary)', outline: 'none', border: 'none', boxShadow: 'none' }}
        />
        {searchQuery && (
          <button
            onClick={() => {
              clearSearch()
              searchInputRef.current?.focus()
            }}
            className="p-1 rounded-full transition-colors"
            onMouseEnter={(e) => e.currentTarget.style.background = 'var(--color-surface-elevated)'}
            onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}
          >
            <svg
              className="w-4 h-4"
              style={{ color: 'var(--color-text-tertiary)' }}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}
            >
              <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        )}
      </div>

      {/* Autocomplete dropdown */}
      {autocompleteOpen && autocompleteSuggestions.length > 0 && (
        <div
          ref={autocompleteRef}
          className="absolute bottom-full left-0 right-0 mb-1 rounded-lg shadow-lg border overflow-hidden z-50"
          style={{ background: 'var(--color-surface)', borderColor: 'var(--color-divider)' }}
        >
          {autocompleteSuggestions.map((suggestion, index) => (
            <button
              key={`${suggestion.type}-${suggestion.id}`}
              onClick={() => handleAutocompleteSelect(suggestion)}
              className="w-full px-3 py-2.5 text-left flex items-center gap-2 transition-colors"
              style={{
                background: index === autocompleteIndex ? 'var(--color-primary-muted)' : 'transparent'
              }}
              onMouseEnter={(e) => e.currentTarget.style.background = 'var(--color-surface-elevated)'}
              onMouseLeave={(e) => e.currentTarget.style.background = index === autocompleteIndex ? 'var(--color-primary-muted)' : 'transparent'}
            >
              {/* Text */}
              <div className="flex-1 min-w-0">
                <p className="text-sm font-medium truncate" style={{ color: 'var(--color-text-primary)' }}>
                  {suggestion.name}
                </p>
                <p className="text-xs truncate" style={{ color: 'var(--color-text-tertiary)' }}>
                  {suggestion.type === 'dish' ? `at ${suggestion.subtitle}` : suggestion.subtitle}
                </p>
              </div>

              {/* Type badge */}
              <span
                className="text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0"
                style={{
                  background: suggestion.type === 'dish' ? 'var(--color-primary-muted)' : 'rgba(59, 130, 246, 0.15)',
                  color: suggestion.type === 'dish' ? 'var(--color-primary)' : '#60A5FA'
                }}
              >
                {suggestion.type === 'dish' ? 'Dish' : 'Spot'}
              </span>
            </button>
          ))}
        </div>
      )}
    </div>
  </div>
</div>
